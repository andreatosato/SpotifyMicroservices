@using Spotify.Shared.Models;
<MudGrid Class="mt-8">
    <MudItem xs="12" sm="6" md="4">
        <MudCard Elevation="25" Class="rounded-lg pb-4">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h5" Align="Align.Center">Albums</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent>
                @if(Albums != null)
                {
                    @foreach(var album in Albums)
                    {
                        <iframe src="@($"https://open.spotify.com/embed/album/{album.Id}")" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
                    }
                }
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="12" sm="6" md="4">
       <MudCard Elevation="25" Class="rounded-lg pb-4">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h5" Align="Align.Center">Songs</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent>
                @if(Songs != null)
                {
                    @foreach(var song in Songs)
                    {
                        @if(song.ExternalUrls?.Any()?? false)
                        {
                            <MudButton Link="@song.ExternalUrls.First()"
                                    Target="_blank"
                                    Variant="Variant.Filled"
                                    EndIcon="@Icons.Filled.MusicNote"
                                    Color="Color.Primary">
                                @song.Name
                            </MudButton>
                        }
                    }
                }
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="12" sm="12" md="4">
        <MudCard Elevation="25" Class="rounded-lg pb-4">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h5" Align="Align.Center">Artists</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent>
                    @if(Artists != null)
                    {
                        @foreach(var artist in Artists)
                        {
                            <iframe src="@($"https://open.spotify.com/embed/artist/{artist.Id}")" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>                         
                        }
                    }
            </MudCardContent>
        </MudCard>
    </MudItem>
</MudGrid>

@code {
    [Parameter]
    public IEnumerable<Album> Albums { get; set; }

    [Parameter]
    public IEnumerable<Song> Songs { get; set; }
    
    [Parameter]
    public IEnumerable<Artist> Artists { get; set; }

}